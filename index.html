<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Malaw Sécurity - Présentation</title>

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700;900&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
<link href="https://fonts.cdnfonts.com/css/astro-space" rel="stylesheet">
<link href="https://fonts.cdnfonts.com/css/jumpers" rel="stylesheet">
<link href="https://fonts.cdnfonts.com/css/astro-space" rel="stylesheet">

  <style>
/* --- Variables principales --- */
:root {
  --main-color: #00b7ff;
  --bg-color: #000712;
  --text-color: #ffffff;
  --teal-overlay: rgba(2,40,44,0.72);
  --accent-green: #16a34a;
}

/* --- Base --- */
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  overflow: hidden;
  background: var(--bg-color);
  color: var(--text-color);
  font-family: 'Roboto', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

/* === FOND TECHNO ANIMÉ === */
#tech-bg {
  position: fixed;
  inset: 0;
  overflow: hidden;
  z-index: 0;
  background: radial-gradient(circle at 30% 50%, #001a33, #000a14, #00040a);
}

.grid-bg {
  position: absolute;
  inset: 0;
  background-image:
    linear-gradient(rgba(0, 183, 255, 0.12) 1px, transparent 1px),
    linear-gradient(90deg, rgba(0, 183, 255, 0.12) 1px, transparent 1px);
  background-size: 60px 60px;
  animation: moveGrid 30s linear infinite;
}
@keyframes moveGrid {
  from { background-position: 0 0, 0 0; }
  to { background-position: 300px 300px, 300px 300px; }
}

.overlay {
  position: absolute;
  inset: 0;
  background: linear-gradient(120deg, rgba(0, 183, 255, 0.15), rgba(0, 119, 255, 0.05));
  animation: glowMove 10s ease infinite alternate;
}
@keyframes glowMove {
  from { background-position: 0% 50%; }
  to { background-position: 100% 50%; }
}

/* === INTRO (CARTE) === */
#intro-screen {
  position: fixed;
  inset: 0;
  z-index: 5;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 24px;
  background: rgba(0,0,0,0.35);
  transition: opacity 1s ease;
  transform-origin: center;
}


.card{
  width:100%;
  max-width:1100px;
  aspect-ratio: 1.08 / 1;
  border-radius:18px;
  overflow:hidden;
  position:relative;
  box-shadow:0 10px 30px rgba(2,12,15,0.6);
  border:6px solid rgba(0,150,170,0.12);
  z-index:6;

  transform: scale(0.55); /* ↓ réduction globale à 55% */
  transition: transform 1.5s ease;
}

/* Background image (presente.png) */
.card .bg{
  position:absolute;inset:0;background-position:center;background-size:cover;background-repeat:no-repeat;
  background-image: url('dkcity.png');
  filter: none;
}

/* Teal overlay to reproduce the tinted look */
.card .tint{
  position:absolute;inset:0;background:linear-gradient(180deg, var(--teal-overlay), var(--teal-overlay));
  mix-blend-mode: multiply;
}

/* Inner content */
.card .content{
  position:relative;z-index:3;height:100%;display:flex;flex-direction:column;padding:36px 44px;box-sizing:border-box;color:#e6eef0;
}

/* Top-left metadata group */
.meta{
  width:54%;
  display:flex;flex-direction:column;gap:18px;align-items:flex-start;
}

/* Row styling */
.row{display:flex;align-items:center;gap:18px;}
.label {
  color: var(--accent-green);
  font-weight: 900;
  font-size: 80px;
  letter-spacing: 1px;
  text-transform: uppercase;
  font-family: 'Jumpers', sans-serif;
}

.value {
  color: #dbeff0;
  font-weight: 900;
  font-size: 80px;
  letter-spacing: 1px;
  text-transform: uppercase;
  font-family: 'Jumpers', sans-serif;
}



/* Profession wraps on two lines */
.profession .value{font-size:60px;line-height:1.05}

/* Center big \"Présente\" in a different font */
.present-wrap{ margin-top:auto; display:flex;align-items:center;justify-content:center;height:46%;}
.present{
  font-family: 'Playfair Display', serif;
  font-size:64px;
  color:var(--accent-green);
  opacity:0.98;
  letter-spacing:2px;
  text-transform:none;
  transform-origin:center;
  opacity:0;
  animation: presentIn 1.2s ease forwards;
  animation-delay: 6.6s;
}

/* inner border */
.inner-border{
  position:absolute;inset:8px;border-radius:calc(18px - 8px);pointer-events:none;box-shadow:inset 0 0 0 3px rgba(64,200,190,0.06);
}

/* Present animation (ajustée) */
@keyframes presentIn {
  0% { opacity: 0; transform: scale(0.9); }
  100% { opacity: 1; transform: scale(1); }
}

/* Fade-out class reused */
.fade-out {
  opacity: 0;
  transform: scale(0.95);
  transition: opacity 1s ease, transform 1s ease;
}

/* Responsive tweaks */
@media (max-width:900px){
  .card{max-width:900px}
  .label,.value{font-size:22px}
  .present{font-size:44px}
  .meta{width:60%}
}
@media (max-width:560px){
  .content{padding:22px}
  .label,.value{font-size:18px}
  .present{font-size:32px}
  .meta{width:100%}
  .present-wrap{height:36%}
}

/* === CONTENU PRINCIPAL === */
.container {
  position: relative;
  z-index: 3;
  height: 100%;
  display: none;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  text-align: center;
}

.logo {
  width: 300px;
  height: 300px;
  background: url('logoblanc.png') center/contain no-repeat;
  opacity: 0;
  transform: scale(0.3);
  animation: logoIn 2s ease forwards;
  filter: drop-shadow(0 0 25px rgba(0, 183, 255, 0.6));
}
@keyframes logoIn {
  0% { opacity: 0; transform: scale(0.3); }
  60% { opacity: 1; transform: scale(1.1); }
  100% { opacity: 1; transform: scale(1); }
}

.text {
  margin-top: 25px;
  font-size: 2.5rem;
  font-weight: 600;
  white-space: pre-line;
  opacity: 0;
  animation: fadeIn 0.5s ease forwards 2.2s;
}
@keyframes fadeIn { to { opacity: 1; } }

.buttons {
  margin-top: 35px;
  display: flex;
  gap: 20px;
  opacity: 0;
  animation: fadeIn 0.8s ease forwards 6s;
}
button {
  background: transparent;
  border: 2px solid var(--main-color);
  color: var(--text-color);
  padding: 12px 26px;
  border-radius: 10px;
  font-size: 1rem;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.4s ease;
  box-shadow: 0 0 8px rgba(0, 183, 255, 0.5);
}
button:hover {
  background: var(--main-color);
  color: #fff;
  box-shadow: 0 0 20px var(--main-color);
  transform: scale(1.05);
}

/* small helpers */
.small-muted { font-size:12px; color: rgba(255,255,255,0.45); margin-top:6px; }

/* typing caret (optional) */
.caret {
  display:inline-block;
  width:2px;
  height:1.05em;
  background: #dbeff0;
  margin-left:6px;
  vertical-align:middle;
  animation: blink 1s steps(2) infinite;
}
@keyframes blink { 50% { opacity: 0 } }
.text {
  font-family: 'Astro Space', sans-serif;
  font-size: 26px;
}

  </style>
</head>
<body>
  <!-- FOND TECHNO -->
  <div id="tech-bg">
    <div class="grid-bg"></div>
    <div class="overlay"></div>
    <canvas id="tech-particles"></canvas>
  </div>

  <!-- INTRO : CARTE -->
  <div id="intro-screen">
    <div class="card" role="img" aria-label="Carte Présente">
      <div class="bg" aria-hidden="true"></div>
      <div class="tint" aria-hidden="true"></div>

      <div class="content">
        <div class="meta" id="metaBlock">
          <div class="row">
            <div class="label">Prénom:</div>
            <div class="value" id="val-prenom"></div>
          </div>

          <div class="row">
            <div class="label">Nom:</div>
            <div class="value" id="val-nom"></div>
          </div>

          <div class="row profession">
            <div class="label">Profession:</div>
            <div class="value" id="val-profession"></div>
          </div>
        </div>

        <div class="present-wrap">
          <div class="present" id="presentText">Présente</div>
        </div>
      </div>

      <div class="inner-border" aria-hidden="true"></div>
    </div>
  </div>

  <!-- CONTENU PRINCIPAL -->
  <div class="container" id="main-content">
    <div class="logo"></div>
    <div class="text" id="typedText"></div>
    <div class="buttons">
      <button onclick="goTo('user')">Mode Utilisateur</button>
      <button onclick="goTo('admin')">Mode Administrateur</button>
    </div>
  </div>

  <audio id="typeSound" src="https://assets.mixkit.co/sfx/download/mixkit-typewriter-soft-hit-1360.wav" preload="auto"></audio>

  <script>
  /********** INTRO (typing for card fields) **********/
  // Strings to type (you can change these)
  const prenomFull = "ANSOUMANA";
  const nomFull = "NDIAYE";
  const professionFull = "INGÉNIEUR EN CYBERSÉCURITÉ";

  const prenomEl = document.getElementById("val-prenom");
  const nomEl = document.getElementById("val-nom");
  const profEl = document.getElementById("val-profession");
  const typeSound = document.getElementById("typeSound");

  // generic type function that types into an element
  function typeInto(el, text, speed = 60) {
    return new Promise((resolve) => {
      let i = 0;
      function step(){
        if (i < text.length) {
          el.textContent += text.charAt(i);
          if (text.charAt(i) !== " ") {
            // small play but avoid overlapping on slow devices
            try { typeSound.currentTime = 0; typeSound.play(); } catch(e){ }
          }
          i++;
          setTimeout(step, speed);
        } else resolve();
      }
      step();
    });
  }

  // orchestrate typing of the three fields in sequence
  async function runIntroTyping(){
    // slight initial delay so overlay and page loads nicely
    await new Promise(r => setTimeout(r, 500));
    await typeInto(prenomEl, prenomFull, 70);
    await new Promise(r => setTimeout(r, 350));
    await typeInto(nomEl, nomFull, 60);
    await new Promise(r => setTimeout(r, 350));
    await typeInto(profEl, professionFull, 45);

    // reveal 'Présente' with slight delay (animation via CSS is already set to 6.6s)
    // wait for present animation visible then fade out into main content
    await new Promise(r => setTimeout(r, 6000)); // let user read the card
    document.getElementById("intro-screen").classList.add("fade-out");
    setTimeout(() => {
      document.getElementById("intro-screen").style.display = "none";
      showMain();
    }, 1000);
  }

  runIntroTyping();

  /********** CONTENU PRINCIPAL **********/
  function showMain() {
    const container = document.getElementById("main-content");
    const textEl = document.getElementById("typedText");
    container.style.display = "flex";

    const message = "Bienvenue aux organisateurs du Gov'athon.\nVous voulez explorer le mode utilisateur ou le mode administrateur ?";
    let index = 0;

    function typeWriter() {
      if (index < message.length) {
        textEl.textContent += message.charAt(index);
        if (message.charAt(index) !== " " && message.charAt(index) !== "\n") {
          try { typeSound.currentTime = 0; typeSound.play(); } catch(e){}
        }
        index++;
        setTimeout(typeWriter, 55);
      }
    }

    setTimeout(typeWriter, 700);
  }

  /********** BOUTONS **********/
  function goTo(mode) {
    document.body.classList.add("fade-out");
    setTimeout(() => {
      if (mode === "admin") window.location.href = "admin/admin.html";
      else window.location.href = "user.html";
    }, 1000);
  }

  /********** PARTICULES CONNECTÉES (canvas) **********/
  const canvas = document.getElementById("tech-particles");
  const ctx = canvas.getContext ? canvas.getContext("2d") : null;
  let particles = [];

  function resizeCanvas() {
    if (!canvas) return;
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  }
  window.addEventListener("resize", resizeCanvas);
  resizeCanvas();

  function createParticles() {
    if (!ctx) return;
    const colors = ["#00b7ff", "#33ccff", "#0077ff"];
    for (let i = 0; i < 80; i++) {
      particles.push({
        x: Math.random() * canvas.width,
        y: Math.random() * canvas.height,
        radius: Math.random() * 2 + 1,
        dx: (Math.random() - 0.5),
        dy: (Math.random() - 0.5),
        color: colors[Math.floor(Math.random() * colors.length)]
      });
    }
  }

  function drawParticles() {
    if (!ctx) return;
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    particles.forEach(p => {
      ctx.beginPath();
      ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
      ctx.fillStyle = p.color;
      ctx.fill();
      p.x += p.dx; p.y += p.dy;
      if (p.x < 0 || p.x > canvas.width) p.dx *= -1;
      if (p.y < 0 || p.y > canvas.height) p.dy *= -1;
    });

    for (let i = 0; i < particles.length; i++) {
      for (let j = i + 1; j < particles.length; j++) {
        const dx = particles[i].x - particles[j].x;
        const dy = particles[i].y - particles[j].y;
        const dist = Math.sqrt(dx * dx + dy * dy);
        if (dist < 120) {
          ctx.strokeStyle = "rgba(0, 183, 255, 0.18)";
          ctx.lineWidth = 0.5;
          ctx.beginPath();
          ctx.moveTo(particles[i].x, particles[i].y);
          ctx.lineTo(particles[j].x, particles[j].y);
          ctx.stroke();
        }
      }
    }
    requestAnimationFrame(drawParticles);
  }

  createParticles();
  drawParticles();
  </script>
</body>
</html>
